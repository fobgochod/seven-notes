<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysqlè°ƒä¼˜--ä½¿ç”¨profiles,performance_schemaæ€§èƒ½ç›‘æ§ | Seven</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <meta name="description" content="ä¸ƒçš„ç¬”è®°">
    
    <link rel="preload" href="/assets/css/0.styles.26beaa78.css" as="style"><link rel="preload" href="/assets/js/app.371415f4.js" as="script"><link rel="preload" href="/assets/js/3.bc568359.js" as="script"><link rel="preload" href="/assets/js/4.2d0cd4c0.js" as="script"><link rel="preload" href="/assets/js/70.00ed678e.js" as="script"><link rel="prefetch" href="/assets/js/1.f7723f30.js"><link rel="prefetch" href="/assets/js/10.bba94c66.js"><link rel="prefetch" href="/assets/js/100.40994b6f.js"><link rel="prefetch" href="/assets/js/101.2ba78ed5.js"><link rel="prefetch" href="/assets/js/102.9c73f3ba.js"><link rel="prefetch" href="/assets/js/103.5086212f.js"><link rel="prefetch" href="/assets/js/104.b2fe63b9.js"><link rel="prefetch" href="/assets/js/105.bd17f0cd.js"><link rel="prefetch" href="/assets/js/106.02175cfe.js"><link rel="prefetch" href="/assets/js/11.2d7a2a85.js"><link rel="prefetch" href="/assets/js/12.f66baacb.js"><link rel="prefetch" href="/assets/js/13.65f1912d.js"><link rel="prefetch" href="/assets/js/14.b32a1498.js"><link rel="prefetch" href="/assets/js/15.d943f770.js"><link rel="prefetch" href="/assets/js/16.0f893ca6.js"><link rel="prefetch" href="/assets/js/17.561906a6.js"><link rel="prefetch" href="/assets/js/18.27b172ed.js"><link rel="prefetch" href="/assets/js/19.8f91c0b8.js"><link rel="prefetch" href="/assets/js/20.4c366f68.js"><link rel="prefetch" href="/assets/js/21.dfb853d3.js"><link rel="prefetch" href="/assets/js/22.d0e2d1ef.js"><link rel="prefetch" href="/assets/js/23.d38c54cd.js"><link rel="prefetch" href="/assets/js/24.653da433.js"><link rel="prefetch" href="/assets/js/25.8d837c10.js"><link rel="prefetch" href="/assets/js/26.f51ed1b5.js"><link rel="prefetch" href="/assets/js/27.dd97a797.js"><link rel="prefetch" href="/assets/js/28.783c9c1f.js"><link rel="prefetch" href="/assets/js/29.f2e778a3.js"><link rel="prefetch" href="/assets/js/30.234e744f.js"><link rel="prefetch" href="/assets/js/31.3d8c2141.js"><link rel="prefetch" href="/assets/js/32.f408a568.js"><link rel="prefetch" href="/assets/js/33.2face929.js"><link rel="prefetch" href="/assets/js/34.ff34b206.js"><link rel="prefetch" href="/assets/js/35.25cb4102.js"><link rel="prefetch" href="/assets/js/36.fe8ce433.js"><link rel="prefetch" href="/assets/js/37.e7a3ac35.js"><link rel="prefetch" href="/assets/js/38.18bb18cf.js"><link rel="prefetch" href="/assets/js/39.e16770d9.js"><link rel="prefetch" href="/assets/js/40.664dd951.js"><link rel="prefetch" href="/assets/js/41.7a61a28a.js"><link rel="prefetch" href="/assets/js/42.8f528ccd.js"><link rel="prefetch" href="/assets/js/43.5ee0859c.js"><link rel="prefetch" href="/assets/js/44.bbc882d2.js"><link rel="prefetch" href="/assets/js/45.9d77a19a.js"><link rel="prefetch" href="/assets/js/46.99d29877.js"><link rel="prefetch" href="/assets/js/47.d64ca6f3.js"><link rel="prefetch" href="/assets/js/48.b79ddd7d.js"><link rel="prefetch" href="/assets/js/49.181fc1ec.js"><link rel="prefetch" href="/assets/js/5.69984e3d.js"><link rel="prefetch" href="/assets/js/50.7f1b6ffc.js"><link rel="prefetch" href="/assets/js/51.f1213938.js"><link rel="prefetch" href="/assets/js/52.27cd3398.js"><link rel="prefetch" href="/assets/js/53.9901158b.js"><link rel="prefetch" href="/assets/js/54.f62fd1ae.js"><link rel="prefetch" href="/assets/js/55.c64242dd.js"><link rel="prefetch" href="/assets/js/56.db05a66a.js"><link rel="prefetch" href="/assets/js/57.da77bb18.js"><link rel="prefetch" href="/assets/js/58.688c730e.js"><link rel="prefetch" href="/assets/js/59.6cb10312.js"><link rel="prefetch" href="/assets/js/6.2b855fbc.js"><link rel="prefetch" href="/assets/js/60.52eb4164.js"><link rel="prefetch" href="/assets/js/61.82f8d6e4.js"><link rel="prefetch" href="/assets/js/62.51845a35.js"><link rel="prefetch" href="/assets/js/63.937acd7e.js"><link rel="prefetch" href="/assets/js/64.94ab2e14.js"><link rel="prefetch" href="/assets/js/65.7970ee38.js"><link rel="prefetch" href="/assets/js/66.7e47a133.js"><link rel="prefetch" href="/assets/js/67.fb411cf1.js"><link rel="prefetch" href="/assets/js/68.8b6b7e9b.js"><link rel="prefetch" href="/assets/js/69.6eeffc79.js"><link rel="prefetch" href="/assets/js/7.1aa5f415.js"><link rel="prefetch" href="/assets/js/71.c67a83db.js"><link rel="prefetch" href="/assets/js/72.53b798ad.js"><link rel="prefetch" href="/assets/js/73.a4924470.js"><link rel="prefetch" href="/assets/js/74.db3353ca.js"><link rel="prefetch" href="/assets/js/75.0da4a5e6.js"><link rel="prefetch" href="/assets/js/76.10bda1fb.js"><link rel="prefetch" href="/assets/js/77.d836638c.js"><link rel="prefetch" href="/assets/js/78.add2e6ab.js"><link rel="prefetch" href="/assets/js/79.d656d59e.js"><link rel="prefetch" href="/assets/js/8.82a92afa.js"><link rel="prefetch" href="/assets/js/80.80b49876.js"><link rel="prefetch" href="/assets/js/81.801fa602.js"><link rel="prefetch" href="/assets/js/82.61838d29.js"><link rel="prefetch" href="/assets/js/83.4d49bc99.js"><link rel="prefetch" href="/assets/js/84.3f5b7a0b.js"><link rel="prefetch" href="/assets/js/85.68499f48.js"><link rel="prefetch" href="/assets/js/86.95cb1b9d.js"><link rel="prefetch" href="/assets/js/87.236a039d.js"><link rel="prefetch" href="/assets/js/88.7bccd3ef.js"><link rel="prefetch" href="/assets/js/89.4ea226ab.js"><link rel="prefetch" href="/assets/js/9.aa6239bf.js"><link rel="prefetch" href="/assets/js/90.bdaf91d0.js"><link rel="prefetch" href="/assets/js/91.66679adf.js"><link rel="prefetch" href="/assets/js/92.db981669.js"><link rel="prefetch" href="/assets/js/93.b8c5fecc.js"><link rel="prefetch" href="/assets/js/94.eb3e13ba.js"><link rel="prefetch" href="/assets/js/95.ba857dcd.js"><link rel="prefetch" href="/assets/js/96.32cb2c42.js"><link rel="prefetch" href="/assets/js/97.abb8da95.js"><link rel="prefetch" href="/assets/js/98.fb6076cb.js"><link rel="prefetch" href="/assets/js/99.8031115f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26beaa78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo/book.png" alt="Seven" class="logo"> <span class="site-name can-hide">Seven</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/summary.html" class="nav-link">
  ç›®å½•
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é˜…è¯»" class="dropdown-title"><span class="title">é˜…è¯»</span> <span class="arrow down"></span></button> <button type="button" aria-label="é˜…è¯»" class="mobile-dropdown-title"><span class="title">é˜…è¯»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.whywhy.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WhyæŠ€æœ¯
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.ruanyifeng.com/blog/archives.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  é˜®ä¸€å³°
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tech.meituan.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.ideabuffer.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Idea Buffer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è½¯ä»¶æ¶æ„æ¢ç´¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://lingcoder.github.io/OnJava8/#/sidebar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OnJava8
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‹æƒ…é“¾æ¥" class="dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‹æƒ…é“¾æ¥" class="mobile-dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          DevOps
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://travis-ci.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Travis CI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          æ¨¡ç‰ˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://vssue.js.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vssue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è½¯ä»¶æ¶æ„æ¢ç´¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://baomidou.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.pdai.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java å…¨æ ˆçŸ¥è¯†ä½“ç³»
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/vuepressjs/awesome-vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Awesome VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/fobgochod/fobgochod" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/summary.html" class="nav-link">
  ç›®å½•
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é˜…è¯»" class="dropdown-title"><span class="title">é˜…è¯»</span> <span class="arrow down"></span></button> <button type="button" aria-label="é˜…è¯»" class="mobile-dropdown-title"><span class="title">é˜…è¯»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.whywhy.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WhyæŠ€æœ¯
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.ruanyifeng.com/blog/archives.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  é˜®ä¸€å³°
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tech.meituan.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.ideabuffer.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Idea Buffer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è½¯ä»¶æ¶æ„æ¢ç´¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://lingcoder.github.io/OnJava8/#/sidebar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OnJava8
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‹æƒ…é“¾æ¥" class="dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‹æƒ…é“¾æ¥" class="mobile-dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          DevOps
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://travis-ci.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Travis CI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          æ¨¡ç‰ˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://vssue.js.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vssue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è½¯ä»¶æ¶æ„æ¢ç´¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://baomidou.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.pdai.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java å…¨æ ˆçŸ¥è¯†ä½“ç³»
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/vuepressjs/awesome-vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Awesome VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/fobgochod/fobgochod" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ğŸ®Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/introduction/about-me.html" class="sidebar-link">å…³äºä½œè€…</a></li><li><a href="/zh/introduction/about-the-project.html" class="sidebar-link">å…³äº6+1</a></li><li><a href="/zh/introduction/guide/quick-start.html" class="sidebar-link">å¦‚ä½•å¼€å§‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ°Backend</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/java/java-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/backend/java/java-tools.html" class="sidebar-link">Javaé—®é¢˜æ’æŸ¥</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>JUC</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/juc/lesson/" class="sidebar-link">JUCç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>JVM</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/jvm/jvm.html" class="sidebar-link">JVM</a></li><li><a href="/zh/backend/jvm/lesson/" class="sidebar-link">JVMç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Nginx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/nginx/nginx-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/backend/nginx/nginx-conf.html" class="sidebar-link">nginx.conf</a></li><li><a href="/zh/backend/nginx/nginx-commands.html" class="sidebar-link">Commands</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ZooKeeper</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/zookeeper/zookeeper-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/backend/zookeeper/lesson/" class="sidebar-link">ZKç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>SysIO</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/sysio/lesson/" class="sidebar-link">IOç¬”è®°</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ´Frontend</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/frontend/npm.html" class="sidebar-link">NPM</a></li><li><a href="/zh/frontend/yarn.html" class="sidebar-link">Yarn</a></li><li><a href="/zh/frontend/vuepress.html" class="sidebar-link">VuePress</a></li><li><a href="/zh/frontend/gitbook.html" class="sidebar-link">GitBook</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸµDatabase</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/database/mysql/data.html" class="sidebar-link">åŸºç¡€æ•°æ®</a></li><li><a href="/zh/database/mysql/lesson/" aria-current="page" class="sidebar-link">MySQLç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>MariaDB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/database/mariadb/mariadb-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/database/mariadb/mariadb-documentation.html" class="sidebar-link">Documentation</a></li><li><a href="/zh/database/mariadb/mariadb-faq.html" class="sidebar-link">FAQ</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/database/redis/redis-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/database/redis/redis-install-windows.html" class="sidebar-link">Install Windows</a></li><li><a href="/zh/database/redis/redis-commands.html" class="sidebar-link">Commands</a></li><li><a href="/zh/database/redis/lesson/" class="sidebar-link">Redisç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>MongoDB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/database/mongodb/mongodb-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/database/mongodb/mongodb-commands.html" class="sidebar-link">Commands</a></li><li><a href="/zh/database/mongodb/mongodb-dump.html" class="sidebar-link">å¤‡ä»½æ¢å¤</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”Operating System</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>è®¡ç®—æœºåŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/os/computer/nous.html" class="sidebar-link">å¸¸è¯†</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/os/docker/docker-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/os/docker/docker-commands.html" class="sidebar-link">Commands</a></li><li><a href="/zh/os/docker/docker-maven-plugin.html" class="sidebar-link">Docker Maven Plugin</a></li><li><a href="/zh/os/docker/dockerfile.html" class="sidebar-link">Dockerfile</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Kubernetes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/os/kubernetes/minikube-install.html" class="sidebar-link">Install</a></li><li><a href="/zh/os/kubernetes/minikube-commands.html" class="sidebar-link">Commands</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/os/linux/commands.html" class="sidebar-link">Commands</a></li><li><a href="/zh/os/linux/vi.html" class="sidebar-link">æ–‡ä»¶ç›®å½•æ“ä½œ</a></li><li><a href="/zh/os/linux/user-group.html" class="sidebar-link">ç”¨æˆ·å’Œç»„</a></li><li><a href="/zh/os/linux/systemctl.html" class="sidebar-link">chkconfigã€systemctl</a></li><li><a href="/zh/os/linux/firewall.html" class="sidebar-link">é˜²ç«å¢™</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Windows</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/os/windows/windows.html" class="sidebar-link">Windows</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ¶Reading Notes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/book/mashibing.html" class="sidebar-link">å­¦ä¹ ä¸­...</a></li><li><a href="/zh/book/this-is-why.html" class="sidebar-link">WhyæŠ€æœ¯</a></li><li><a href="/zh/book/blog.html" class="sidebar-link">åšå®¢</a></li><li><a href="/zh/book/on-java-8.html" class="sidebar-link">On Java 8</a></li><li><a href="/zh/book/understanding-the-jvm.html" class="sidebar-link">æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬3ç‰ˆï¼‰</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ·Appendix</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/appendix/markdown.html" class="sidebar-link">MarkdownåŸºæœ¬è¯­æ³•</a></li><li><a href="/zh/appendix/halo.html" class="sidebar-link">Halo</a></li><li><a href="/zh/appendix/git.html" class="sidebar-link">Git</a></li><li><a href="/zh/appendix/tools.html" class="sidebar-link">ä¹±ä¸ƒå…«ç³Ÿ</a></li><li><a href="/zh/appendix/proper-noun.html" class="sidebar-link">ä¸“æœ‰åè¯è§£é‡Š</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysqlè°ƒä¼˜-ä½¿ç”¨profiles-performance-schemaæ€§èƒ½ç›‘æ§">mysqlè°ƒä¼˜--ä½¿ç”¨profiles,performance_schemaæ€§èƒ½ç›‘æ§</h1> <h2 id="æ¶æ„å›¾">æ¶æ„å›¾</h2> <p><img src="/images/mysql/mysql-1.png" alt=""></p> <p><img src="/images/mysql/mysql-2.png" alt=""></p> <h4 id="å®¢æˆ·ç«¯-client">å®¢æˆ·ç«¯ Client</h4> <h4 id="æœåŠ¡ç«¯server">æœåŠ¡ç«¯server</h4> <ul><li>è¿æ¥å™¨
<ul><li>è¿æ¥å™¨è´Ÿè´£è·Ÿå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œè·å–æƒé™ã€ç»´æŒå’Œç®¡ç†è¿æ¥
<ul><li>ç”¨æˆ·åå¯†ç éªŒè¯</li> <li>æŸ¥è¯¢æƒé™ä¿¡æ¯ï¼Œåˆ†é…å¯¹åº”çš„æƒé™</li> <li>å¯ä»¥ä½¿ç”¨show processlistæŸ¥çœ‹ç°åœ¨çš„è¿æ¥</li> <li>å¦‚æœå¤ªé•¿æ—¶é—´æ²¡æœ‰åŠ¨é™ï¼Œå°±ä¼šè‡ªåŠ¨æ–­å¼€ï¼Œé€šè¿‡wait_timeoutæ§åˆ¶ï¼Œé»˜è®¤8å°æ—¶</li></ul></li> <li>è¿æ¥å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š
<ul><li>é•¿è¿æ¥ï¼šæ¨èä½¿ç”¨ï¼Œä½†æ˜¯è¦å‘¨æœŸæ€§çš„æ–­å¼€é•¿è¿æ¥</li> <li>çŸ­é“¾æ¥</li></ul></li></ul></li> <li>æŸ¥è¯¢ç¼“å­˜ï¼ˆMySQLç‰ˆæœ¬8ä¹‹å‰ æœ‰ç¼“å­˜ï¼‰
<ul><li>å½“æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œä¼šå…ˆå»æŸ¥è¯¢ç¼“å­˜ä¸­æŸ¥çœ‹ç»“æœï¼Œä¹‹å‰æ‰§è¡Œè¿‡çš„sqlè¯­å¥åŠå…¶ç»“æœå¯èƒ½ä»¥key-valueçš„å½¢å¼å­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œå¦‚æœèƒ½æ‰¾åˆ°åˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ç»§ç»­æ‰§è¡Œåç»­çš„é˜¶æ®µã€‚</li> <li>ä½†æ˜¯ï¼Œä¸æ¨èä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ï¼š
<ul><li>æŸ¥è¯¢ç¼“å­˜çš„å¤±æ•ˆæ¯”è¾ƒé¢‘ç¹ï¼Œåªè¦è¡¨æ›´æ–°ï¼Œç¼“å­˜å°±ä¼šæ¸…ç©º</li> <li>ç¼“å­˜å¯¹åº”æ–°æ›´æ–°çš„æ•°æ®å‘½ä¸­ç‡æ¯”è¾ƒä½</li></ul></li></ul></li> <li>åˆ†æå™¨
<ul><li>AST(æŠ½è±¡è¯­æ³•æ ‘)</li> <li>è¯æ³•åˆ†æï¼šMysqléœ€è¦æŠŠè¾“å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œè¯†åˆ«æ¯ä¸ªéƒ¨åˆ†ä»£è¡¨ä»€ä¹ˆæ„æ€
<ul><li>æŠŠå­—ç¬¦ä¸² T è¯†åˆ«æˆ è¡¨å T</li> <li>æŠŠå­—ç¬¦ä¸² ID è¯†åˆ«æˆ åˆ—ID</li></ul></li> <li>è¯­æ³•åˆ†æï¼š</li> <li>æ ¹æ®è¯­æ³•è§„åˆ™åˆ¤æ–­è¿™ä¸ªsqlè¯­å¥æ˜¯å¦æ»¡è¶³mysqlçš„è¯­æ³•ï¼Œå¦‚æœä¸ç¬¦åˆå°±ä¼šæŠ¥é”™â€œYou have an error in your SQL syntaxâ€</li></ul></li> <li>ä¼˜åŒ–å™¨
<ul><li>åœ¨å…·ä½“æ‰§è¡ŒSQLè¯­å¥ä¹‹å‰ï¼Œè¦å…ˆç»è¿‡ä¼˜åŒ–å™¨çš„å¤„ç†
<ul><li>å½“è¡¨ä¸­æœ‰å¤šä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå†³å®šç”¨å“ªä¸ªç´¢å¼•</li> <li>å½“sqlè¯­å¥éœ€è¦åšå¤šè¡¨å…³è”çš„æ—¶å€™ï¼Œå†³å®šè¡¨çš„è¿æ¥é¡ºåº</li> <li>ç­‰ç­‰</li></ul></li> <li>ä¸åŒçš„æ‰§è¡Œæ–¹å¼å¯¹SQLè¯­å¥çš„æ‰§è¡Œæ•ˆç‡å½±å“å¾ˆå¤§
<ul class="contains-task-list"><li>RBO: åŸºäºè§„åˆ™çš„ä¼˜åŒ–</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> CBO: åŸºäºæˆæœ¬çš„ä¼˜åŒ–</li></ul></li></ul></li> <li>æ‰§è¡Œå™¨</li></ul> <h4 id="å­˜å‚¨å¼•æ“">å­˜å‚¨å¼•æ“</h4> <ul><li>IO
<ul><li>å‡å°‘é‡</li> <li>å‡å°‘æ¬¡æ•°</li></ul></li></ul> <h2 id="profile">PROFILE</h2> <p>profileå‚è€ƒï¼š</p> <blockquote><p>é¡µé¢åº•éƒ¨ -&gt; DOCUMENTATION -&gt; MySQL Reference Manual -&gt; SQL Statements -&gt; Database Administration Statements -&gt; SHOW Statements -&gt; SHOW PROFILE Statement
<a href="https://dev.mysql.com/doc/refman/8.0/en/show-profile.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/show-profile.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="ä½¿ç”¨show-profileæŸ¥è¯¢å‰–æå·¥å…·">ä½¿ç”¨show profileæŸ¥è¯¢å‰–æå·¥å…·</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># æŸ¥çœ‹</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'profiling'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@profiling</span><span class="token punctuation">;</span>
<span class="token comment"># æ­¤å·¥å…·é»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œå¯ä»¥é€šè¿‡æœåŠ¡å™¨å˜é‡åœ¨ä¼šè¯çº§åˆ«åŠ¨æ€çš„ä¿®æ”¹</span>
<span class="token keyword">set</span> profiling<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment"># å½“è®¾ç½®å®Œæˆä¹‹åï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„æ‰€æœ‰è¯­å¥ï¼Œéƒ½ä¼šæµ‹é‡å…¶è€—è´¹çš„æ—¶é—´å’Œå…¶ä»–ä¸€äº›æŸ¥è¯¢æ‰§è¡ŒçŠ¶æ€å˜æ›´ç›¸å…³çš„æ•°æ®ã€‚</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token comment"># åœ¨mysqlçš„å‘½ä»¤è¡Œæ¨¡å¼ä¸‹åªèƒ½æ˜¾ç¤ºä¸¤ä½å°æ•°çš„æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å…·ä½“çš„æ‰§è¡Œæ—¶é—´</span>
<span class="token keyword">show</span> profiles<span class="token punctuation">;</span>
<span class="token comment"># æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„æ¯ä¸ªæ­¥éª¤çš„æ—¶é—´ï¼š</span>
<span class="token keyword">show</span> profile <span class="token keyword">for</span> query <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="typeè¯´æ˜">typeè¯´æ˜</h3> <ol><li>allï¼šæ˜¾ç¤ºæ‰€æœ‰æ€§èƒ½ä¿¡æ¯
<ul><li>show profile all for query n</li></ul></li> <li>block ioï¼šæ˜¾ç¤ºå—ioæ“ä½œçš„æ¬¡æ•°
<ul><li>show  profile block io for query n</li></ul></li> <li>context switchesï¼šæ˜¾ç¤ºä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œè¢«åŠ¨å’Œä¸»åŠ¨
<ul><li>show profile context switches for query n</li></ul></li> <li>cpuï¼šæ˜¾ç¤ºç”¨æˆ·cpuæ—¶é—´ã€ç³»ç»Ÿcpuæ—¶é—´
<ul><li>show profile cpu for query n</li></ul></li> <li>IPCï¼šæ˜¾ç¤ºå‘é€å’Œæ¥å—çš„æ¶ˆæ¯æ•°é‡
<ul><li>show profile ipc for query n</li></ul></li> <li>Memoryï¼šæš‚æœªå®ç°</li> <li>page faultsï¼šæ˜¾ç¤ºé¡µé”™è¯¯æ•°é‡
<ul><li>show profile page faults for query n</li></ul></li> <li>sourceï¼šæ˜¾ç¤ºæºç ä¸­çš„å‡½æ•°åç§°ä¸ä½ç½®
<ul><li>show profile source for query n</li></ul></li> <li>swapsï¼šæ˜¾ç¤ºswapçš„æ¬¡æ•°
<ul><li>show profile swaps for query n</li></ul></li></ol> <h3 id="é€šè¿‡performance-schemaæ¥æŸ¥è¯¢profilingç›¸å…³ä¿¡æ¯">é€šè¿‡Performance Schemaæ¥æŸ¥è¯¢profilingç›¸å…³ä¿¡æ¯</h3> <blockquote><p>å‚è€ƒï¼š<a href="https://dev.mysql.com/doc/refman/5.7/en/performance-schema-query-profiling.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/5.7/en/performance-schema-query-profiling.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> performance_schema<span class="token punctuation">.</span>setup_actors<span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> performance_schema<span class="token punctuation">.</span>setup_actors <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'NO'</span><span class="token punctuation">,</span> HISTORY <span class="token operator">=</span> <span class="token string">'NO'</span> <span class="token keyword">WHERE</span> HOST <span class="token operator">=</span> <span class="token string">'%'</span> <span class="token operator">AND</span> <span class="token keyword">USER</span> <span class="token operator">=</span> <span class="token string">'%'</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> performance_schema<span class="token punctuation">.</span>setup_actors <span class="token punctuation">(</span>HOST<span class="token punctuation">,</span><span class="token keyword">USER</span><span class="token punctuation">,</span>ROLE<span class="token punctuation">,</span>ENABLED<span class="token punctuation">,</span>HISTORY<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token string">'test_user'</span><span class="token punctuation">,</span><span class="token string">'%'</span><span class="token punctuation">,</span><span class="token string">'YES'</span><span class="token punctuation">,</span><span class="token string">'YES'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">UPDATE</span> performance_schema<span class="token punctuation">.</span>setup_instruments <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'YES'</span><span class="token punctuation">,</span> TIMED <span class="token operator">=</span> <span class="token string">'YES'</span> <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'%statement/%'</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> performance_schema<span class="token punctuation">.</span>setup_instruments <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'YES'</span><span class="token punctuation">,</span> TIMED <span class="token operator">=</span> <span class="token string">'YES'</span> <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'%stage/%'</span><span class="token punctuation">;</span>

<span class="token keyword">UPDATE</span> performance_schema<span class="token punctuation">.</span>setup_consumers <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'YES'</span> <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'%events_statements_%'</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> performance_schema<span class="token punctuation">.</span>setup_consumers <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'YES'</span> <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'%events_stages_%'</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> scott<span class="token punctuation">.</span>emp <span class="token keyword">WHERE</span> empno <span class="token operator">=</span> <span class="token number">7900</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> EVENT_ID<span class="token punctuation">,</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span>TIMER_WAIT<span class="token operator">/</span><span class="token number">1000000000000</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Duration<span class="token punctuation">,</span> SQL_TEXT <span class="token keyword">FROM</span> performance_schema<span class="token punctuation">.</span>events_statements_history_long <span class="token keyword">WHERE</span> SQL_TEXT <span class="token operator">like</span> <span class="token string">'%empno = 7900%'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> event_name <span class="token keyword">AS</span> Stage<span class="token punctuation">,</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span>TIMER_WAIT<span class="token operator">/</span><span class="token number">1000000000000</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> Duration <span class="token keyword">FROM</span> performance_schema<span class="token punctuation">.</span>events_stages_history_long <span class="token keyword">WHERE</span> NESTING_EVENT_ID<span class="token operator">=</span><span class="token number">438808</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="performance-schema">Performance Schema</h2> <blockquote><p>é¡µé¢åº•éƒ¨ -&gt; DOCUMENTATION -&gt; MySQL Reference Manual -&gt; MySQL Performance Schema
<a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="_0ã€performance-schemaçš„ä»‹ç»">0ã€performance_schemaçš„ä»‹ç»</h3> <blockquote><p>MySQLçš„Performance Schemaç”¨äºç›‘æ§MySQL Serveråœ¨ä¸€ä¸ªè¾ƒä½çº§åˆ«çš„è¿è¡Œè¿‡ç¨‹ä¸­çš„èµ„æºæ¶ˆè€—ã€èµ„æºç­‰å¾…ç­‰æƒ…å†µã€‚ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p></blockquote> <ol><li>æä¾›äº†ä¸€ç§åœ¨æ•°æ®åº“è¿è¡Œæ—¶å®æ—¶æ£€æŸ¥serverçš„å†…éƒ¨æ‰§è¡Œæƒ…å†µçš„æ–¹æ³•ã€‚performance_schema æ•°æ®åº“ä¸­çš„è¡¨ä½¿ç”¨performance_schemaå­˜å‚¨å¼•æ“ã€‚è¯¥æ•°æ®åº“ä¸»è¦å…³æ³¨æ•°æ®åº“è¿è¡Œè¿‡ç¨‹ä¸­çš„æ€§èƒ½ç›¸å…³çš„æ•°æ®ï¼Œä¸information_schemaä¸åŒï¼Œinformation_schemaä¸»è¦å…³æ³¨serverè¿è¡Œè¿‡ç¨‹ä¸­çš„å…ƒæ•°æ®</li> <li>performance_schemaé€šè¿‡ç›‘è§†serverçš„äº‹ä»¶æ¥å®ç°ç›‘è§†serverå†…éƒ¨è¿è¡Œæƒ…å†µï¼Œ â€œäº‹ä»¶â€å°±æ˜¯serverå†…éƒ¨æ´»åŠ¨ä¸­æ‰€åšçš„ä»»ä½•äº‹æƒ…ä»¥åŠå¯¹åº”çš„æ—¶é—´æ¶ˆè€—ï¼Œåˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥åˆ¤æ–­serverä¸­çš„ç›¸å…³èµ„æºæ¶ˆè€—åœ¨äº†å“ªé‡Œï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œäº‹ä»¶å¯ä»¥æ˜¯å‡½æ•°è°ƒç”¨ã€æ“ä½œç³»ç»Ÿçš„ç­‰å¾…ã€SQLè¯­å¥æ‰§è¡Œçš„é˜¶æ®µï¼ˆå¦‚sqlè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­çš„parsing æˆ– sortingé˜¶æ®µï¼‰æˆ–è€…æ•´ä¸ªSQLè¯­å¥ä¸SQLè¯­å¥é›†åˆã€‚äº‹ä»¶çš„é‡‡é›†å¯ä»¥æ–¹ä¾¿çš„æä¾›serverä¸­çš„ç›¸å…³å­˜å‚¨å¼•æ“å¯¹ç£ç›˜æ–‡ä»¶ã€è¡¨I/Oã€è¡¨é”ç­‰èµ„æºçš„åŒæ­¥è°ƒç”¨ä¿¡æ¯ã€‚</li> <li>performance_schemaä¸­çš„äº‹ä»¶ä¸å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼ˆæè¿°æ•°æ®ä¿®æ”¹çš„eventsï¼‰ã€äº‹ä»¶è®¡åˆ’è°ƒåº¦ç¨‹åºï¼ˆè¿™æ˜¯ä¸€ç§å­˜å‚¨ç¨‹åºï¼‰çš„äº‹ä»¶ä¸åŒã€‚performance_schemaä¸­çš„äº‹ä»¶è®°å½•çš„æ˜¯serveræ‰§è¡ŒæŸäº›æ´»åŠ¨å¯¹æŸäº›èµ„æºçš„æ¶ˆè€—ã€è€—æ—¶ã€è¿™äº›æ´»åŠ¨æ‰§è¡Œçš„æ¬¡æ•°ç­‰æƒ…å†µã€‚</li> <li>performance_schemaä¸­çš„äº‹ä»¶åªè®°å½•åœ¨æœ¬åœ°serverçš„performance_schemaä¸­ï¼Œå…¶ä¸‹çš„è¿™äº›è¡¨ä¸­æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ä¸ä¼šè¢«å†™å…¥binlogä¸­ï¼Œä¹Ÿä¸ä¼šé€šè¿‡å¤åˆ¶æœºåˆ¶è¢«å¤åˆ¶åˆ°å…¶ä»–serverä¸­ã€‚</li> <li>å½“å‰æ´»è·ƒäº‹ä»¶ã€å†å²äº‹ä»¶å’Œäº‹ä»¶æ‘˜è¦ç›¸å…³çš„è¡¨ä¸­è®°å½•çš„ä¿¡æ¯ã€‚èƒ½æä¾›æŸä¸ªäº‹ä»¶çš„æ‰§è¡Œæ¬¡æ•°ã€ä½¿ç”¨æ—¶é•¿ã€‚è¿›è€Œå¯ç”¨äºåˆ†ææŸä¸ªç‰¹å®šçº¿ç¨‹ã€ç‰¹å®šå¯¹è±¡ï¼ˆå¦‚mutexæˆ–fileï¼‰ç›¸å…³è”çš„æ´»åŠ¨ã€‚</li> <li>PERFORMANCE_SCHEMAå­˜å‚¨å¼•æ“ä½¿ç”¨serveræºä»£ç ä¸­çš„â€œæ£€æµ‹ç‚¹â€æ¥å®ç°äº‹ä»¶æ•°æ®çš„æ”¶é›†ã€‚å¯¹äºperformance_schemaå®ç°æœºåˆ¶æœ¬èº«çš„ä»£ç æ²¡æœ‰ç›¸å…³çš„å•ç‹¬çº¿ç¨‹æ¥æ£€æµ‹ï¼Œè¿™ä¸å…¶ä»–åŠŸèƒ½ï¼ˆå¦‚å¤åˆ¶æˆ–äº‹ä»¶è®¡åˆ’ç¨‹åºï¼‰ä¸åŒ</li> <li>æ”¶é›†çš„äº‹ä»¶æ•°æ®å­˜å‚¨åœ¨performance_schemaæ•°æ®åº“çš„è¡¨ä¸­ã€‚è¿™äº›è¡¨å¯ä»¥ä½¿ç”¨SELECTè¯­å¥æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SQLè¯­å¥æ›´æ–°performance_schemaæ•°æ®åº“ä¸­çš„è¡¨è®°å½•ï¼ˆå¦‚åŠ¨æ€ä¿®æ”¹performance_schemaçš„setup_*å¼€å¤´çš„å‡ ä¸ªé…ç½®è¡¨ï¼Œä½†è¦æ³¨æ„ï¼šé…ç½®è¡¨çš„æ›´æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œè¿™ä¼šå½±å“æ•°æ®æ”¶é›†ï¼‰</li> <li>performance_schemaçš„è¡¨ä¸­çš„æ•°æ®ä¸ä¼šæŒä¹…åŒ–å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œè€Œæ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸€æ—¦æœåŠ¡å™¨é‡å¯ï¼Œè¿™äº›æ•°æ®ä¼šä¸¢å¤±ï¼ˆåŒ…æ‹¬é…ç½®è¡¨åœ¨å†…çš„æ•´ä¸ªperformance_schemaä¸‹çš„æ‰€æœ‰æ•°æ®ï¼‰</li> <li>MySQLæ”¯æŒçš„æ‰€æœ‰å¹³å°ä¸­äº‹ä»¶ç›‘æ§åŠŸèƒ½éƒ½å¯ç”¨ï¼Œä½†ä¸åŒå¹³å°ä¸­ç”¨äºç»Ÿè®¡äº‹ä»¶æ—¶é—´å¼€é”€çš„è®¡æ—¶å™¨ç±»å‹å¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ã€‚</li></ol> <h3 id="_1ã€performance-schemaå…¥é—¨">1ã€performance schemaå…¥é—¨</h3> <blockquote><p>åœ¨mysqlçš„5.7ç‰ˆæœ¬ä¸­ï¼Œæ€§èƒ½æ¨¡å¼æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œå¦‚æœæƒ³è¦æ˜¾å¼çš„å…³é—­çš„è¯éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œä¼šæŠ¥é”™Variable 'performance_schema' is a read only variableã€‚</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--æŸ¥çœ‹performance_schemaçš„å±æ€§</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'performance_schema'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+-------+</span>
<span class="token operator">|</span> Variable_name      <span class="token operator">|</span> <span class="token keyword">Value</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+-------+</span>
<span class="token operator">|</span> performance_schema <span class="token operator">|</span> <span class="token keyword">ON</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

<span class="token comment">--åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹performance_schemaçš„å±æ€§å€¼ï¼Œonè¡¨ç¤ºå¼€å¯ï¼Œoffè¡¨ç¤ºå…³é—­</span>
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
performance_schema<span class="token operator">=</span><span class="token keyword">ON</span>

<span class="token comment">--åˆ‡æ¢æ•°æ®åº“</span>
<span class="token keyword">use</span> performance_schema<span class="token punctuation">;</span>

<span class="token comment">--æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸‹çš„æ‰€æœ‰è¡¨,ä¼šçœ‹åˆ°æœ‰å¾ˆå¤šè¡¨å­˜å‚¨ç€ç›¸å…³çš„ä¿¡æ¯</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>

<span class="token comment">--å¯ä»¥é€šè¿‡show create table tablenameæ¥æŸ¥çœ‹åˆ›å»ºè¡¨çš„æ—¶å€™çš„è¡¨ç»“æ„</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> setup_consumers<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------+---------------------------------</span>
<span class="token operator">|</span> <span class="token keyword">Table</span>           <span class="token operator">|</span> <span class="token keyword">Create</span> <span class="token keyword">Table</span>                    
<span class="token operator">+</span><span class="token comment">-----------------+---------------------------------</span>
<span class="token operator">|</span> setup_consumers <span class="token operator">|</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>setup_consumers<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>NAME<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>                      
  <span class="token punctuation">`</span>ENABLED<span class="token punctuation">`</span> <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">'YES'</span><span class="token punctuation">,</span><span class="token string">'NO'</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>               
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>PERFORMANCE_SCHEMA <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8 <span class="token operator">|</span>  
<span class="token operator">+</span><span class="token comment">-----------------+---------------------------------</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>                             
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>æƒ³è¦ææ˜ç™½åç»­çš„å†…å®¹ï¼ŒåŒå­¦ä»¬éœ€è¦ç†è§£ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p> <ul><li>instruments:ç”Ÿäº§è€…ï¼Œç”¨äºé‡‡é›†mysqlä¸­å„ç§å„æ ·çš„æ“ä½œäº§ç”Ÿçš„äº‹ä»¶ä¿¡æ¯ï¼Œå¯¹åº”é…ç½®è¡¨ä¸­çš„é…ç½®é¡¹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºç›‘æ§é‡‡é›†é…ç½®é¡¹ã€‚</li> <li>consumers:æ¶ˆè´¹è€…ï¼Œå¯¹åº”çš„æ¶ˆè´¹è€…è¡¨ç”¨äºå­˜å‚¨æ¥è‡ªinstrumentsé‡‡é›†çš„æ•°æ®ï¼Œå¯¹åº”é…ç½®è¡¨ä¸­çš„é…ç½®é¡¹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºæ¶ˆè´¹å­˜å‚¨é…ç½®é¡¹ã€‚</li></ul> <h3 id="_2ã€performance-schemaè¡¨çš„åˆ†ç±»">2ã€performance_schemaè¡¨çš„åˆ†ç±»</h3> <blockquote><p>performance_schemaåº“ä¸‹çš„è¡¨å¯ä»¥æŒ‰ç…§ç›‘è§†ä¸åŒçš„çº¬åº¦å°±è¡Œåˆ†ç»„ã€‚</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--è¯­å¥äº‹ä»¶è®°å½•è¡¨ï¼Œè¿™äº›è¡¨è®°å½•äº†è¯­å¥äº‹ä»¶ä¿¡æ¯ï¼Œå½“å‰è¯­å¥äº‹ä»¶è¡¨events_statements_currentã€å†å²è¯­å¥äº‹ä»¶è¡¨events_statements_historyå’Œé•¿è¯­å¥å†å²äº‹ä»¶è¡¨events_statements_history_longã€ä»¥åŠèšåˆåçš„æ‘˜è¦è¡¨summaryï¼Œå…¶ä¸­ï¼Œsummaryè¡¨è¿˜å¯ä»¥æ ¹æ®å¸å·(account)ï¼Œä¸»æœº(host)ï¼Œç¨‹åº(program)ï¼Œçº¿ç¨‹(thread)ï¼Œç”¨æˆ·(user)å’Œå…¨å±€(global)å†è¿›è¡Œç»†åˆ†)</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%statement%'</span><span class="token punctuation">;</span>

<span class="token comment">--ç­‰å¾…äº‹ä»¶è®°å½•è¡¨ï¼Œä¸è¯­å¥äº‹ä»¶ç±»å‹çš„ç›¸å…³è®°å½•è¡¨ç±»ä¼¼ï¼š</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%wait%'</span><span class="token punctuation">;</span>

<span class="token comment">--é˜¶æ®µäº‹ä»¶è®°å½•è¡¨ï¼Œè®°å½•è¯­å¥æ‰§è¡Œçš„é˜¶æ®µäº‹ä»¶çš„è¡¨</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%stage%'</span><span class="token punctuation">;</span>

<span class="token comment">--äº‹åŠ¡äº‹ä»¶è®°å½•è¡¨ï¼Œè®°å½•äº‹åŠ¡ç›¸å…³çš„äº‹ä»¶çš„è¡¨</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%transaction%'</span><span class="token punctuation">;</span>

<span class="token comment">--ç›‘æ§æ–‡ä»¶ç³»ç»Ÿå±‚è°ƒç”¨çš„è¡¨</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%file%'</span><span class="token punctuation">;</span>

<span class="token comment">--ç›‘è§†å†…å­˜ä½¿ç”¨çš„è¡¨</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%memory%'</span><span class="token punctuation">;</span>

<span class="token comment">--åŠ¨æ€å¯¹performance_schemaè¿›è¡Œé…ç½®çš„é…ç½®è¡¨</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token operator">like</span> <span class="token string">'%setup%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_3ã€performance-schemaçš„ç®€å•é…ç½®ä¸ä½¿ç”¨">3ã€performance_schemaçš„ç®€å•é…ç½®ä¸ä½¿ç”¨</h3> <blockquote><p>æ•°æ®åº“åˆšåˆšåˆå§‹åŒ–å¹¶å¯åŠ¨æ—¶ï¼Œå¹¶éæ‰€æœ‰instruments(äº‹ä»¶é‡‡é›†é¡¹ï¼Œåœ¨é‡‡é›†é¡¹çš„é…ç½®è¡¨ä¸­æ¯ä¸€é¡¹éƒ½æœ‰ä¸€ä¸ªå¼€å…³å­—æ®µï¼Œæˆ–ä¸ºYESï¼Œæˆ–ä¸ºNO)å’Œconsumers(ä¸é‡‡é›†é¡¹ç±»ä¼¼ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå¯¹åº”çš„äº‹ä»¶ç±»å‹ä¿å­˜è¡¨é…ç½®é¡¹ï¼Œä¸ºYESå°±è¡¨ç¤ºå¯¹åº”çš„è¡¨ä¿å­˜æ€§èƒ½æ•°æ®ï¼Œä¸ºNOå°±è¡¨ç¤ºå¯¹åº”çš„è¡¨ä¸ä¿å­˜æ€§èƒ½æ•°æ®)éƒ½å¯ç”¨äº†ï¼Œæ‰€ä»¥é»˜è®¤ä¸ä¼šæ”¶é›†æ‰€æœ‰çš„äº‹ä»¶ï¼Œå¯èƒ½ä½ éœ€è¦æ£€æµ‹çš„äº‹ä»¶å¹¶æ²¡æœ‰æ‰“å¼€ï¼Œéœ€è¦è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä¸¤ä¸ªè¯­å¥æ‰“å¼€å¯¹åº”çš„instrumentså’Œconsumersï¼ˆè¡Œè®¡æ•°å¯èƒ½ä¼šå› MySQLç‰ˆæœ¬è€Œå¼‚)ã€‚</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--æ‰“å¼€ç­‰å¾…äº‹ä»¶çš„é‡‡é›†å™¨é…ç½®é¡¹å¼€å…³ï¼Œéœ€è¦ä¿®æ”¹setup_instrumentsé…ç½®è¡¨ä¸­å¯¹åº”çš„é‡‡é›†å™¨é…ç½®é¡¹</span>
<span class="token keyword">UPDATE</span> setup_instruments <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'YES'</span><span class="token punctuation">,</span> TIMED <span class="token operator">=</span> <span class="token string">'YES'</span><span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'wait%'</span><span class="token punctuation">;</span>

<span class="token comment">--æ‰“å¼€ç­‰å¾…äº‹ä»¶çš„ä¿å­˜è¡¨é…ç½®å¼€å…³ï¼Œä¿®æ”¹setup_consumersé…ç½®è¡¨ä¸­å¯¹åº”çš„é…ç½®é¡¹</span>
<span class="token keyword">UPDATE</span> setup_consumers <span class="token keyword">SET</span> ENABLED <span class="token operator">=</span> <span class="token string">'YES'</span><span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%wait%'</span><span class="token punctuation">;</span>

<span class="token comment">--å½“é…ç½®å®Œæˆä¹‹åå¯ä»¥æŸ¥çœ‹å½“å‰serveræ­£åœ¨åšä»€ä¹ˆï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢events_waits_currentè¡¨æ¥å¾—çŸ¥ï¼Œè¯¥è¡¨ä¸­æ¯ä¸ªçº¿ç¨‹åªåŒ…å«ä¸€è¡Œæ•°æ®ï¼Œç”¨äºæ˜¾ç¤ºæ¯ä¸ªçº¿ç¨‹çš„æœ€æ–°ç›‘è§†äº‹ä»¶</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> events_waits_current\G
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
            THREAD_ID: <span class="token number">11</span>
             EVENT_ID: <span class="token number">570</span>
         END_EVENT_ID: <span class="token number">570</span>
           EVENT_NAME: wait<span class="token operator">/</span>synch<span class="token operator">/</span>mutex<span class="token operator">/</span><span class="token keyword">innodb</span><span class="token operator">/</span>buf_dblwr_mutex
               SOURCE: 
          TIMER_START: <span class="token number">4508505105239280</span>
            TIMER_END: <span class="token number">4508505105270160</span>
           TIMER_WAIT: <span class="token number">30880</span>
                SPINS: <span class="token boolean">NULL</span>
        OBJECT_SCHEMA: <span class="token boolean">NULL</span>
          OBJECT_NAME: <span class="token boolean">NULL</span>
           INDEX_NAME: <span class="token boolean">NULL</span>
          OBJECT_TYPE: <span class="token boolean">NULL</span>
OBJECT_INSTANCE_BEGIN: <span class="token number">67918392</span>
     NESTING_EVENT_ID: <span class="token boolean">NULL</span>
   NESTING_EVENT_TYPE: <span class="token boolean">NULL</span>
            OPERATION: <span class="token keyword">lock</span>
      NUMBER_OF_BYTES: <span class="token boolean">NULL</span>
                FLAGS: <span class="token boolean">NULL</span>
<span class="token comment">/*è¯¥ä¿¡æ¯è¡¨ç¤ºçº¿ç¨‹idä¸º11çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…buf_dblwr_mutexé”ï¼Œç­‰å¾…äº‹ä»¶ä¸º30880
å±æ€§è¯´æ˜ï¼š
	id:äº‹ä»¶æ¥è‡ªå“ªä¸ªçº¿ç¨‹ï¼Œäº‹ä»¶ç¼–å·æ˜¯å¤šå°‘
	event_name:è¡¨ç¤ºæ£€æµ‹åˆ°çš„å…·ä½“çš„å†…å®¹
	source:è¡¨ç¤ºè¿™ä¸ªæ£€æµ‹ä»£ç åœ¨å“ªä¸ªæºæ–‡ä»¶ä¸­ä»¥åŠè¡Œå·
	timer_start:è¡¨ç¤ºè¯¥äº‹ä»¶çš„å¼€å§‹æ—¶é—´
	timer_end:è¡¨ç¤ºè¯¥äº‹ä»¶çš„ç»“æŸæ—¶é—´
	timer_wait:è¡¨ç¤ºè¯¥äº‹ä»¶æ€»çš„èŠ±è´¹æ—¶é—´
æ³¨æ„ï¼š_currentè¡¨ä¸­æ¯ä¸ªçº¿ç¨‹åªä¿ç•™ä¸€æ¡è®°å½•ï¼Œä¸€æ—¦çº¿ç¨‹å®Œæˆå·¥ä½œï¼Œè¯¥è¡¨ä¸­ä¸ä¼šå†è®°å½•è¯¥çº¿ç¨‹çš„äº‹ä»¶ä¿¡æ¯
*/</span>

<span class="token comment">/*
_historyè¡¨ä¸­è®°å½•æ¯ä¸ªçº¿ç¨‹åº”è¯¥æ‰§è¡Œå®Œæˆçš„äº‹ä»¶ä¿¡æ¯ï¼Œä½†æ¯ä¸ªçº¿ç¨‹çš„äº‹ä»¶ä¿¡æ¯åªä¼šè®°å½•10æ¡ï¼Œå†å¤šå°±ä¼šè¢«è¦†ç›–ï¼Œ*_history_longè¡¨ä¸­è®°å½•æ‰€æœ‰çº¿ç¨‹çš„äº‹ä»¶ä¿¡æ¯ï¼Œä½†æ€»è®°å½•æ•°é‡æ˜¯10000ï¼Œè¶…è¿‡å°±ä¼šè¢«è¦†ç›–æ‰
*/</span>
<span class="token keyword">select</span> thread_id<span class="token punctuation">,</span>event_id<span class="token punctuation">,</span>event_name<span class="token punctuation">,</span>timer_wait <span class="token keyword">from</span> events_waits_history <span class="token keyword">order</span> <span class="token keyword">by</span> thread_id <span class="token keyword">limit</span> <span class="token number">21</span><span class="token punctuation">;</span>

<span class="token comment">/*
summaryè¡¨æä¾›æ‰€æœ‰äº‹ä»¶çš„æ±‡æ€»ä¿¡æ¯ï¼Œè¯¥ç»„ä¸­çš„è¡¨ä»¥ä¸åŒçš„æ–¹å¼æ±‡æ€»äº‹ä»¶æ•°æ®ï¼ˆå¦‚ï¼šæŒ‰ç”¨æˆ·ï¼ŒæŒ‰ä¸»æœºï¼ŒæŒ‰çº¿ç¨‹ç­‰ç­‰ï¼‰ã€‚ä¾‹å¦‚ï¼šè¦æŸ¥çœ‹å“ªäº›instrumentså ç”¨æœ€å¤šçš„æ—¶é—´ï¼Œå¯ä»¥é€šè¿‡å¯¹events_waits_summary_global_by_event_nameè¡¨çš„COUNT_STARæˆ–SUM_TIMER_WAITåˆ—è¿›è¡ŒæŸ¥è¯¢ï¼ˆè¿™ä¸¤åˆ—æ˜¯å¯¹äº‹ä»¶çš„è®°å½•æ•°æ‰§è¡ŒCOUNTï¼ˆ*ï¼‰ã€äº‹ä»¶è®°å½•çš„TIMER_WAITåˆ—æ‰§è¡ŒSUMï¼ˆTIMER_WAITï¼‰ç»Ÿè®¡è€Œæ¥ï¼‰
*/</span>
<span class="token keyword">SELECT</span> EVENT_NAME<span class="token punctuation">,</span>COUNT_STAR <span class="token keyword">FROM</span> events_waits_summary_global_by_event_name  <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">/*
instanceè¡¨è®°å½•äº†å“ªäº›ç±»å‹çš„å¯¹è±¡ä¼šè¢«æ£€æµ‹ã€‚è¿™äº›å¯¹è±¡åœ¨è¢«serverä½¿ç”¨æ—¶ï¼Œåœ¨è¯¥è¡¨ä¸­å°†ä¼šäº§ç”Ÿä¸€æ¡äº‹ä»¶è®°å½•ï¼Œä¾‹å¦‚ï¼Œfile_instancesè¡¨åˆ—å‡ºäº†æ–‡ä»¶I/Oæ“ä½œåŠå…¶å…³è”æ–‡ä»¶å
*/</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> file_instances <span class="token keyword">limit</span> <span class="token number">20</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h3 id="_4ã€å¸¸ç”¨é…ç½®é¡¹çš„å‚æ•°è¯´æ˜">4ã€å¸¸ç”¨é…ç½®é¡¹çš„å‚æ•°è¯´æ˜</h3> <p>1ã€å¯åŠ¨é€‰é¡¹</p> <blockquote><p>æ³¨æ„ï¼Œè¿™äº›å¯åŠ¨é€‰é¡¹è¦ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œéœ€è¦è®¾ç½®performance_schema=ONã€‚å¦å¤–ï¼Œè¿™äº›å¯åŠ¨é€‰é¡¹è™½ç„¶æ— æ³•ä½¿ç”¨show variablesè¯­å¥æŸ¥çœ‹ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡setup_instrumentså’Œsetup_consumersè¡¨æŸ¥è¯¢è¿™äº›é€‰é¡¹æŒ‡å®šçš„å€¼ã€‚</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>performance_schema_consumer_events_statements_current<span class="token operator">=</span><span class="token boolean">TRUE</span>
<span class="token comment">--æ˜¯å¦åœ¨mysql serverå¯åŠ¨æ—¶å°±å¼€å¯events_statements_currentè¡¨çš„è®°å½•åŠŸèƒ½(è¯¥è¡¨è®°å½•å½“å‰çš„è¯­å¥äº‹ä»¶ä¿¡æ¯)ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°setup_consumersé…ç½®è¡¨ä¸­çš„events_statements_currenté…ç½®é¡¹ï¼Œé»˜è®¤å€¼ä¸ºTRUE</span>

performance_schema_consumer_events_statements_history<span class="token operator">=</span><span class="token boolean">TRUE</span>
<span class="token comment">--ä¸performance_schema_consumer_events_statements_currenté€‰é¡¹ç±»ä¼¼ï¼Œä½†è¯¥é€‰é¡¹æ˜¯ç”¨äºé…ç½®æ˜¯å¦è®°å½•è¯­å¥äº‹ä»¶çŸ­å†å²ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºTRUE</span>

performance_schema_consumer_events_stages_history_long<span class="token operator">=</span><span class="token boolean">FALSE</span>
<span class="token comment">--ä¸performance_schema_consumer_events_statements_currenté€‰é¡¹ç±»ä¼¼ï¼Œä½†è¯¥é€‰é¡¹æ˜¯ç”¨äºé…ç½®æ˜¯å¦è®°å½•è¯­å¥äº‹ä»¶é•¿å†å²ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºFALSE</span>

<span class="token comment">--é™¤äº†statement(è¯­å¥)äº‹ä»¶ä¹‹å¤–ï¼Œè¿˜æ”¯æŒï¼šwait(ç­‰å¾…)äº‹ä»¶ã€state(é˜¶æ®µ)äº‹ä»¶ã€transaction(äº‹åŠ¡)äº‹ä»¶ï¼Œä»–ä»¬ä¸statementäº‹ä»¶ä¸€æ ·éƒ½æœ‰ä¸‰ä¸ªå¯åŠ¨é¡¹åˆ†åˆ«è¿›è¡Œé…ç½®ï¼Œä½†è¿™äº›ç­‰å¾…äº‹ä»¶é»˜è®¤æœªå¯ç”¨ï¼Œå¦‚æœéœ€è¦åœ¨MySQL Serverå¯åŠ¨æ—¶ä¸€åŒå¯åŠ¨ï¼Œåˆ™é€šå¸¸éœ€è¦å†™è¿›my.cnfé…ç½®æ–‡ä»¶ä¸­</span>
performance_schema_consumer_global_instrumentation<span class="token operator">=</span><span class="token boolean">TRUE</span>
<span class="token comment">--æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¼€å¯å…¨å±€è¡¨ï¼ˆå¦‚ï¼šmutex_instancesã€rwlock_instancesã€cond_instancesã€file_instancesã€usersã€hostsaccountsã€socket_summary_by_event_nameã€file_summary_by_instanceç­‰å¤§éƒ¨åˆ†çš„å…¨å±€å¯¹è±¡è®¡æ•°ç»Ÿè®¡å’Œäº‹ä»¶æ±‡æ€»ç»Ÿè®¡ä¿¡æ¯è¡¨ ï¼‰çš„è®°å½•åŠŸèƒ½ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°å…¨å±€é…ç½®é¡¹</span>
<span class="token comment">--é»˜è®¤å€¼ä¸ºTRUE</span>

performance_schema_consumer_statements_digest<span class="token operator">=</span><span class="token boolean">TRUE</span>
<span class="token comment">--æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¼€å¯events_statements_summary_by_digest è¡¨çš„è®°å½•åŠŸèƒ½ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°digesté…ç½®é¡¹</span>
<span class="token comment">--é»˜è®¤å€¼ä¸ºTRUE</span>

performance_schema_consumer_thread_instrumentation<span class="token operator">=</span><span class="token boolean">TRUE</span>
<span class="token comment">--æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¼€å¯</span>

events_xxx_summary_by_yyy_by_event_nameè¡¨çš„è®°å½•åŠŸèƒ½ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨<span class="token keyword">UPDATE</span>è¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°çº¿ç¨‹é…ç½®é¡¹
<span class="token comment">--é»˜è®¤å€¼ä¸ºTRUE</span>

performance_schema_instrument<span class="token punctuation">[</span><span class="token operator">=</span>name<span class="token punctuation">]</span>
<span class="token comment">--æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¯ç”¨æŸäº›é‡‡é›†å™¨ï¼Œç”±äºinstrumentsé…ç½®é¡¹å¤šè¾¾æ•°åƒä¸ªï¼Œæ‰€ä»¥è¯¥é…ç½®é¡¹æ”¯æŒkey-valueæ¨¡å¼ï¼Œè¿˜æ”¯æŒ%å·è¿›è¡Œé€šé…ç­‰ï¼Œå¦‚ä¸‹:</span>

<span class="token comment">--[=name]å¯ä»¥æŒ‡å®šä¸ºå…·ä½“çš„Instrumentsåç§°ï¼ˆä½†æ˜¯è¿™æ ·å¦‚æœæœ‰å¤šä¸ªéœ€è¦æŒ‡å®šçš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨è¯¥é€‰é¡¹å¤šæ¬¡ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œå¯ä»¥æŒ‡å®šinstrumentsç›¸åŒçš„å‰ç¼€+é€šé…ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨%ä»£è¡¨æ‰€æœ‰çš„instruments</span>

<span class="token comment">--æŒ‡å®šå¼€å¯å•ä¸ªinstruments</span>

performance<span class="token operator">-</span><span class="token keyword">schema</span><span class="token operator">-</span>instrument<span class="token operator">=</span> <span class="token string">'instrument_name=value'</span>

<span class="token comment">--ä½¿ç”¨é€šé…ç¬¦æŒ‡å®šå¼€å¯å¤šä¸ªinstruments</span>

performance<span class="token operator">-</span><span class="token keyword">schema</span><span class="token operator">-</span>instrument<span class="token operator">=</span> <span class="token string">'wait/synch/cond/%=COUNTED'</span>

<span class="token comment">--å¼€å…³æ‰€æœ‰çš„instruments</span>

performance<span class="token operator">-</span><span class="token keyword">schema</span><span class="token operator">-</span>instrument<span class="token operator">=</span> <span class="token string">'%=ON'</span>

performance<span class="token operator">-</span><span class="token keyword">schema</span><span class="token operator">-</span>instrument<span class="token operator">=</span> <span class="token string">'%=OFF'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>2ã€ç³»ç»Ÿå˜é‡</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%performance_schema%'</span><span class="token punctuation">;</span>
<span class="token comment">--é‡è¦çš„å±æ€§è§£é‡Š</span>
performance_schema<span class="token operator">=</span><span class="token keyword">ON</span>
<span class="token comment">/*
æ§åˆ¶performance_schemaåŠŸèƒ½çš„å¼€å…³ï¼Œè¦ä½¿ç”¨MySQLçš„performance_schemaï¼Œéœ€è¦åœ¨mysqldå¯åŠ¨æ—¶å¯ç”¨ï¼Œä»¥å¯ç”¨äº‹ä»¶æ”¶é›†åŠŸèƒ½
è¯¥å‚æ•°åœ¨5.7.xä¹‹å‰æ”¯æŒperformance_schemaçš„ç‰ˆæœ¬ä¸­é»˜è®¤å…³é—­ï¼Œ5.7.xç‰ˆæœ¬å¼€å§‹é»˜è®¤å¼€å¯
æ³¨æ„ï¼šå¦‚æœmysqldåœ¨åˆå§‹åŒ–performance_schemaæ—¶å‘ç°æ— æ³•åˆ†é…ä»»ä½•ç›¸å…³çš„å†…éƒ¨ç¼“å†²åŒºï¼Œåˆ™performance_schemaå°†è‡ªåŠ¨ç¦ç”¨ï¼Œå¹¶å°†performance_schemaè®¾ç½®ä¸ºOFF
*/</span>

performance_schema_digests_size<span class="token operator">=</span><span class="token number">10000</span>
<span class="token comment">/*
æ§åˆ¶events_statements_summary_by_digestè¡¨ä¸­çš„æœ€å¤§è¡Œæ•°ã€‚å¦‚æœäº§ç”Ÿçš„è¯­å¥æ‘˜è¦ä¿¡æ¯è¶…è¿‡æ­¤æœ€å¤§å€¼ï¼Œä¾¿æ— æ³•ç»§ç»­å­˜å…¥è¯¥è¡¨ï¼Œæ­¤æ—¶performance_schemaä¼šå¢åŠ çŠ¶æ€å˜é‡
*/</span>
performance_schema_events_statements_history_long_size<span class="token operator">=</span><span class="token number">10000</span>
<span class="token comment">/*
æ§åˆ¶events_statements_history_longè¡¨ä¸­çš„æœ€å¤§è¡Œæ•°ï¼Œè¯¥å‚æ•°æ§åˆ¶æ‰€æœ‰ä¼šè¯åœ¨events_statements_history_longè¡¨ä¸­èƒ½å¤Ÿå­˜æ”¾çš„æ€»äº‹ä»¶è®°å½•æ•°ï¼Œè¶…è¿‡è¿™ä¸ªé™åˆ¶ä¹‹åï¼Œæœ€æ—©çš„è®°å½•å°†è¢«è¦†ç›–
å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œæ•´å‹å€¼ï¼Œ5.6.3ç‰ˆæœ¬å¼•å…¥ * 5.6.xç‰ˆæœ¬ä¸­ï¼Œ5.6.5åŠå…¶ä¹‹å‰çš„ç‰ˆæœ¬é»˜è®¤ä¸º10000ï¼Œ5.6.6åŠå…¶ä¹‹åçš„ç‰ˆæœ¬é»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10000 * 5.7.xç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10000
*/</span>
performance_schema_events_statements_history_size<span class="token operator">=</span><span class="token number">10</span>
<span class="token comment">/*
æ§åˆ¶events_statements_historyè¡¨ä¸­å•ä¸ªçº¿ç¨‹ï¼ˆä¼šè¯ï¼‰çš„æœ€å¤§è¡Œæ•°ï¼Œè¯¥å‚æ•°æ§åˆ¶å•ä¸ªä¼šè¯åœ¨events_statements_historyè¡¨ä¸­èƒ½å¤Ÿå­˜æ”¾çš„äº‹ä»¶è®°å½•æ•°ï¼Œè¶…è¿‡è¿™ä¸ªé™åˆ¶ä¹‹åï¼Œå•ä¸ªä¼šè¯æœ€æ—©çš„è®°å½•å°†è¢«è¦†ç›–
å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œæ•´å‹å€¼ï¼Œ5.6.3ç‰ˆæœ¬å¼•å…¥ * 5.6.xç‰ˆæœ¬ä¸­ï¼Œ5.6.5åŠå…¶ä¹‹å‰çš„ç‰ˆæœ¬é»˜è®¤ä¸º10ï¼Œ5.6.6åŠå…¶ä¹‹åçš„ç‰ˆæœ¬é»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10 * 5.7.xç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10
é™¤äº†statement(è¯­å¥)äº‹ä»¶ä¹‹å¤–ï¼Œwait(ç­‰å¾…)äº‹ä»¶ã€state(é˜¶æ®µ)äº‹ä»¶ã€transaction(äº‹åŠ¡)äº‹ä»¶ï¼Œä»–ä»¬ä¸statementäº‹ä»¶ä¸€æ ·éƒ½æœ‰ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¿›è¡Œå­˜å‚¨é™åˆ¶é…ç½®ï¼Œæœ‰å…´è¶£çš„åŒå­¦è‡ªè¡Œç ”ç©¶ï¼Œè¿™é‡Œä¸å†èµ˜è¿°
*/</span>
performance_schema_max_digest_length<span class="token operator">=</span><span class="token number">1024</span>
<span class="token comment">/*
ç”¨äºæ§åˆ¶æ ‡å‡†åŒ–å½¢å¼çš„SQLè¯­å¥æ–‡æœ¬åœ¨å­˜å…¥performance_schemaæ—¶çš„é™åˆ¶é•¿åº¦ï¼Œè¯¥å˜é‡ä¸max_digest_lengthå˜é‡ç›¸å…³(max_digest_lengthå˜é‡å«ä¹‰è¯·è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™)
å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œé»˜è®¤å€¼1024å­—èŠ‚ï¼Œæ•´å‹å€¼ï¼Œå–å€¼èŒƒå›´0~1048576
*/</span>
performance_schema_max_sql_text_length<span class="token operator">=</span><span class="token number">1024</span>
<span class="token comment">/*
æ§åˆ¶å­˜å…¥events_statements_currentï¼Œevents_statements_historyå’Œevents_statements_history_longè¯­å¥äº‹ä»¶è¡¨ä¸­çš„SQL_TEXTåˆ—çš„æœ€å¤§SQLé•¿åº¦å­—èŠ‚æ•°ã€‚ è¶…å‡ºç³»ç»Ÿå˜é‡performance_schema_max_sql_text_lengthçš„éƒ¨åˆ†å°†è¢«ä¸¢å¼ƒï¼Œä¸ä¼šè®°å½•ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦è°ƒæ•´è¯¥å‚æ•°ï¼Œé™¤éè¢«æˆªæ–­çš„éƒ¨åˆ†ä¸å…¶ä»–SQLæ¯”èµ·æ¥æœ‰å¾ˆå¤§å·®å¼‚
å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œæ•´å‹å€¼ï¼Œé»˜è®¤å€¼ä¸º1024å­—èŠ‚ï¼Œå–å€¼èŒƒå›´ä¸º0~1048576ï¼Œ5.7.6ç‰ˆæœ¬å¼•å…¥
é™ä½ç³»ç»Ÿå˜é‡performance_schema_max_sql_text_lengthå€¼å¯ä»¥å‡å°‘å†…å­˜ä½¿ç”¨ï¼Œä½†å¦‚æœæ±‡æ€»çš„SQLä¸­ï¼Œè¢«æˆªæ–­éƒ¨åˆ†æœ‰è¾ƒå¤§å·®å¼‚ï¼Œä¼šå¯¼è‡´æ²¡æœ‰åŠæ³•å†å¯¹è¿™äº›æœ‰è¾ƒå¤§å·®å¼‚çš„SQLè¿›è¡ŒåŒºåˆ†ã€‚ å¢åŠ è¯¥ç³»ç»Ÿå˜é‡å€¼ä¼šå¢åŠ å†…å­˜ä½¿ç”¨ï¼Œä½†å¯¹äºæ±‡æ€»SQLæ¥è®²å¯ä»¥æ›´ç²¾å‡†åœ°åŒºåˆ†ä¸åŒçš„éƒ¨åˆ†ã€‚
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="_5ã€é‡è¦é…ç½®è¡¨çš„ç›¸å…³è¯´æ˜">5ã€é‡è¦é…ç½®è¡¨çš„ç›¸å…³è¯´æ˜</h3> <blockquote><p>é…ç½®è¡¨ä¹‹é—´å­˜åœ¨ç›¸äº’å…³è”å…³ç³»ï¼ŒæŒ‰ç…§é…ç½®å½±å“çš„å…ˆåé¡ºåºï¼Œå¯æ·»åŠ ä¸º</p></blockquote> <p><img src="C:%5CUsers%5C63198%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191203125003597.png" alt="image-20191203125003597"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
performance_timersè¡¨ä¸­è®°å½•äº†serverä¸­æœ‰å“ªäº›å¯ç”¨çš„äº‹ä»¶è®¡æ—¶å™¨
å­—æ®µè§£é‡Šï¼š
	timer_name:è¡¨ç¤ºå¯ç”¨è®¡æ—¶å™¨åç§°ï¼ŒCYCLEæ˜¯åŸºäºCPUå‘¨æœŸè®¡æ•°å™¨çš„å®šæ—¶å™¨
	timer_frequency:è¡¨ç¤ºæ¯ç§’é’Ÿå¯¹åº”çš„è®¡æ—¶å™¨å•ä½çš„æ•°é‡,CYCLEè®¡æ—¶å™¨çš„æ¢ç®—å€¼ä¸CPUçš„é¢‘ç‡ç›¸å…³ã€
	timer_resolution:è®¡æ—¶å™¨ç²¾åº¦å€¼ï¼Œè¡¨ç¤ºåœ¨æ¯ä¸ªè®¡æ—¶å™¨è¢«è°ƒç”¨æ—¶é¢å¤–å¢åŠ çš„å€¼
	timer_overhead:è¡¨ç¤ºåœ¨ä½¿ç”¨å®šæ—¶å™¨è·å–äº‹ä»¶æ—¶å¼€é”€çš„æœ€å°å‘¨æœŸå€¼
*/</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> performance_timers<span class="token punctuation">;</span>

<span class="token comment">/*
setup_timersè¡¨ä¸­è®°å½•å½“å‰ä½¿ç”¨çš„äº‹ä»¶è®¡æ—¶å™¨ä¿¡æ¯
å­—æ®µè§£é‡Šï¼š
	name:è®¡æ—¶å™¨ç±»å‹ï¼Œå¯¹åº”æŸä¸ªäº‹ä»¶ç±»åˆ«
	timer_name:è®¡æ—¶å™¨ç±»å‹åç§°
*/</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> setup_timers<span class="token punctuation">;</span>

<span class="token comment">/*
setup_consumersè¡¨ä¸­åˆ—å‡ºäº†consumerså¯é…ç½®åˆ—è¡¨é¡¹
å­—æ®µè§£é‡Šï¼š
	NAMEï¼šconsumersé…ç½®åç§°
	ENABLEDï¼šconsumersæ˜¯å¦å¯ç”¨ï¼Œæœ‰æ•ˆå€¼ä¸ºYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä½¿ç”¨UPDATEè¯­å¥ä¿®æ”¹ã€‚
*/</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> setup_consumers<span class="token punctuation">;</span>

<span class="token comment">/*
setup_instruments è¡¨åˆ—å‡ºäº†instruments åˆ—è¡¨é…ç½®é¡¹ï¼Œå³ä»£è¡¨äº†å“ªäº›äº‹ä»¶æ”¯æŒè¢«æ”¶é›†ï¼š
å­—æ®µè§£é‡Šï¼š
	NAMEï¼šinstrumentsåç§°ï¼Œinstrumentsåç§°å¯èƒ½å…·æœ‰å¤šä¸ªéƒ¨åˆ†å¹¶å½¢æˆå±‚æ¬¡ç»“æ„
	ENABLEDï¼šinstrumetnsæ˜¯å¦å¯ç”¨ï¼Œæœ‰æ•ˆå€¼ä¸ºYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä½¿ç”¨UPDATEè¯­å¥ä¿®æ”¹ã€‚å¦‚æœè®¾ç½®ä¸ºNOï¼Œåˆ™è¿™ä¸ªinstrumentsä¸ä¼šè¢«æ‰§è¡Œï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•çš„äº‹ä»¶ä¿¡æ¯
	TIMEDï¼šinstrumentsæ˜¯å¦æ”¶é›†æ—¶é—´ä¿¡æ¯ï¼Œæœ‰æ•ˆå€¼ä¸ºYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä½¿ç”¨UPDATEè¯­å¥ä¿®æ”¹ï¼Œå¦‚æœè®¾ç½®ä¸ºNOï¼Œåˆ™è¿™ä¸ªinstrumentsä¸ä¼šæ”¶é›†æ—¶é—´ä¿¡æ¯
*/</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> setup_instruments<span class="token punctuation">;</span>

<span class="token comment">/*
setup_actorsè¡¨çš„åˆå§‹å†…å®¹æ˜¯åŒ¹é…ä»»ä½•ç”¨æˆ·å’Œä¸»æœºï¼Œå› æ­¤å¯¹äºæ‰€æœ‰å‰å°çº¿ç¨‹ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯ç”¨ç›‘è§†å’Œå†å²äº‹ä»¶æ”¶é›†åŠŸèƒ½
å­—æ®µè§£é‡Šï¼š
	HOSTï¼šä¸grantè¯­å¥ç±»ä¼¼çš„ä¸»æœºåï¼Œä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²åå­—ï¼Œæˆ–ä½¿ç”¨â€œï¼…â€è¡¨ç¤ºâ€œä»»ä½•ä¸»æœºâ€
	USERï¼šä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²åç§°ï¼Œæˆ–ä½¿ç”¨â€œï¼…â€è¡¨ç¤ºâ€œä»»ä½•ç”¨æˆ·â€
	ROLEï¼šå½“å‰æœªä½¿ç”¨ï¼ŒMySQL 8.0ä¸­æ‰å¯ç”¨è§’è‰²åŠŸèƒ½
	ENABLEDï¼šæ˜¯å¦å¯ç”¨ä¸HOSTï¼ŒUSERï¼ŒROLEåŒ¹é…çš„å‰å°çº¿ç¨‹çš„ç›‘æ§åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NO
	HISTORYï¼šæ˜¯å¦å¯ç”¨ä¸HOSTï¼Œ USERï¼ŒROLEåŒ¹é…çš„å‰å°çº¿ç¨‹çš„å†å²äº‹ä»¶è®°å½•åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NO
*/</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> setup_actors<span class="token punctuation">;</span>

<span class="token comment">/*
setup_objectsè¡¨æ§åˆ¶performance_schemaæ˜¯å¦ç›‘è§†ç‰¹å®šå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤è¡¨çš„æœ€å¤§è¡Œæ•°ä¸º100è¡Œã€‚
å­—æ®µè§£é‡Šï¼š
	OBJECT_TYPEï¼šinstrumentsç±»å‹ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šâ€œEVENTâ€ï¼ˆäº‹ä»¶è°ƒåº¦å™¨äº‹ä»¶ï¼‰ã€â€œFUNCTIONâ€ï¼ˆå­˜å‚¨å‡½æ•°ï¼‰ã€â€œPROCEDUREâ€ï¼ˆå­˜å‚¨è¿‡ç¨‹ï¼‰ã€â€œTABLEâ€ï¼ˆåŸºè¡¨ï¼‰ã€â€œTRIGGERâ€ï¼ˆè§¦å‘å™¨ï¼‰ï¼ŒTABLEå¯¹è±¡ç±»å‹çš„é…ç½®ä¼šå½±å“è¡¨I/Oäº‹ä»¶ï¼ˆwait/io/table/sql/handler instrumentï¼‰å’Œè¡¨é”äº‹ä»¶ï¼ˆwait/lock/table/sql/handler instrumentï¼‰çš„æ”¶é›†
	OBJECT_SCHEMAï¼šæŸä¸ªç›‘è§†ç±»å‹å¯¹è±¡æ¶µç›–çš„æ•°æ®åº“åç§°ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²åç§°ï¼Œæˆ–â€œï¼…â€(è¡¨ç¤ºâ€œä»»ä½•æ•°æ®åº“â€)
	OBJECT_NAMEï¼šæŸä¸ªç›‘è§†ç±»å‹å¯¹è±¡æ¶µç›–çš„è¡¨åï¼Œä¸€ä¸ªå­—ç¬¦ä¸²åç§°ï¼Œæˆ–â€œï¼…â€(è¡¨ç¤ºâ€œä»»ä½•æ•°æ®åº“å†…çš„å¯¹è±¡â€)
	ENABLEDï¼šæ˜¯å¦å¼€å¯å¯¹æŸä¸ªç±»å‹å¯¹è±¡çš„ç›‘è§†åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NOã€‚æ­¤åˆ—å¯ä»¥ä¿®æ”¹
	TIMEDï¼šæ˜¯å¦å¼€å¯å¯¹æŸä¸ªç±»å‹å¯¹è±¡çš„æ—¶é—´æ”¶é›†åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä¿®æ”¹
*/</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> setup_objects<span class="token punctuation">;</span>

<span class="token comment">/*
threadsè¡¨å¯¹äºæ¯ä¸ªserverçº¿ç¨‹ç”Ÿæˆä¸€è¡ŒåŒ…å«çº¿ç¨‹ç›¸å…³çš„ä¿¡æ¯ï¼Œ
å­—æ®µè§£é‡Šï¼š
	THREAD_IDï¼šçº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆIDï¼‰
	NAMEï¼šä¸serverä¸­çš„çº¿ç¨‹æ£€æµ‹ä»£ç ç›¸å…³è”çš„åç§°(æ³¨æ„ï¼Œè¿™é‡Œä¸æ˜¯instrumentsåç§°)
	TYPEï¼šçº¿ç¨‹ç±»å‹ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šFOREGROUNDã€BACKGROUNDã€‚åˆ†åˆ«è¡¨ç¤ºå‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹
	PROCESSLIST_IDï¼šå¯¹åº”INFORMATION_SCHEMA.PROCESSLISTè¡¨ä¸­çš„IDåˆ—ã€‚
	PROCESSLIST_USERï¼šä¸å‰å°çº¿ç¨‹ç›¸å…³è”çš„ç”¨æˆ·åï¼Œå¯¹äºåå°çº¿ç¨‹ä¸ºNULLã€‚
	PROCESSLIST_HOSTï¼šä¸å‰å°çº¿ç¨‹å…³è”çš„å®¢æˆ·ç«¯çš„ä¸»æœºåï¼Œå¯¹äºåå°çº¿ç¨‹ä¸ºNULLã€‚
	PROCESSLIST_DBï¼šçº¿ç¨‹çš„é»˜è®¤æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¸ºNULLã€‚
	PROCESSLIST_COMMANDï¼šå¯¹äºå‰å°çº¿ç¨‹ï¼Œè¯¥å€¼ä»£è¡¨ç€å½“å‰å®¢æˆ·ç«¯æ­£åœ¨æ‰§è¡Œçš„commandç±»å‹ï¼Œå¦‚æœæ˜¯sleepåˆ™è¡¨ç¤ºå½“å‰ä¼šè¯å¤„äºç©ºé—²çŠ¶æ€
	PROCESSLIST_TIMEï¼šå½“å‰çº¿ç¨‹å·²å¤„äºå½“å‰çº¿ç¨‹çŠ¶æ€çš„æŒç»­æ—¶é—´ï¼ˆç§’ï¼‰
	PROCESSLIST_STATEï¼šè¡¨ç¤ºçº¿ç¨‹æ­£åœ¨åšä»€ä¹ˆäº‹æƒ…ã€‚
	PROCESSLIST_INFOï¼šçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„è¯­å¥ï¼Œå¦‚æœæ²¡æœ‰æ‰§è¡Œä»»ä½•è¯­å¥ï¼Œåˆ™ä¸ºNULLã€‚
	PARENT_THREAD_IDï¼šå¦‚æœè¿™ä¸ªçº¿ç¨‹æ˜¯ä¸€ä¸ªå­çº¿ç¨‹ï¼ˆç”±å¦ä¸€ä¸ªçº¿ç¨‹ç”Ÿæˆï¼‰ï¼Œé‚£ä¹ˆè¯¥å­—æ®µæ˜¾ç¤ºå…¶çˆ¶çº¿ç¨‹ID
	ROLEï¼šæš‚æœªä½¿ç”¨
	INSTRUMENTEDï¼šçº¿ç¨‹æ‰§è¡Œçš„äº‹ä»¶æ˜¯å¦è¢«æ£€æµ‹ã€‚æœ‰æ•ˆå€¼ï¼šYESã€NO 
	HISTORYï¼šæ˜¯å¦è®°å½•çº¿ç¨‹çš„å†å²äº‹ä»¶ã€‚æœ‰æ•ˆå€¼ï¼šYESã€NO * 
	THREAD_OS_IDï¼šç”±æ“ä½œç³»ç»Ÿå±‚å®šä¹‰çš„çº¿ç¨‹æˆ–ä»»åŠ¡æ ‡è¯†ç¬¦ï¼ˆIDï¼‰ï¼š
*/</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> threads
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><blockquote><p>æ³¨æ„ï¼šåœ¨performance_schemaåº“ä¸­è¿˜åŒ…å«äº†å¾ˆå¤šå…¶ä»–çš„åº“å’Œè¡¨ï¼Œèƒ½å¯¹æ•°æ®åº“çš„æ€§èƒ½åšå®Œæ•´çš„ç›‘æ§ï¼Œå¤§å®¶éœ€è¦å‚è€ƒå®˜ç½‘è¯¦ç»†äº†è§£ã€‚</p></blockquote> <h3 id="_6ã€performance-schemaå®è·µæ“ä½œ">6ã€performance_schemaå®è·µæ“ä½œ</h3> <blockquote><p>åŸºæœ¬äº†è§£äº†è¡¨çš„ç›¸å…³ä¿¡æ¯ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¿™äº›è¡¨è¿›è¡Œå®é™…çš„æŸ¥è¯¢æ“ä½œæ¥è¿›è¡Œå®é™…çš„åˆ†æã€‚</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--1ã€å“ªç±»çš„SQLæ‰§è¡Œæœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> DIGEST_TEXT<span class="token punctuation">,</span>COUNT_STAR<span class="token punctuation">,</span>FIRST_SEEN<span class="token punctuation">,</span>LAST_SEEN <span class="token keyword">FROM</span> events_statements_summary_by_digest <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span>
<span class="token comment">--2ã€å“ªç±»SQLçš„å¹³å‡å“åº”æ—¶é—´æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> DIGEST_TEXT<span class="token punctuation">,</span>AVG_TIMER_WAIT <span class="token keyword">FROM</span> events_statements_summary_by_digest <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span>
<span class="token comment">--3ã€å“ªç±»SQLæ’åºè®°å½•æ•°æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> DIGEST_TEXT<span class="token punctuation">,</span>SUM_SORT_ROWS <span class="token keyword">FROM</span> events_statements_summary_by_digest <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span>
<span class="token comment">--4ã€å“ªç±»SQLæ‰«æè®°å½•æ•°æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> DIGEST_TEXT<span class="token punctuation">,</span>SUM_ROWS_EXAMINED <span class="token keyword">FROM</span> events_statements_summary_by_digest <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span>
<span class="token comment">--5ã€å“ªç±»SQLä½¿ç”¨ä¸´æ—¶è¡¨æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> DIGEST_TEXT<span class="token punctuation">,</span>SUM_CREATED_TMP_TABLES<span class="token punctuation">,</span>SUM_CREATED_TMP_DISK_TABLES <span class="token keyword">FROM</span> events_statements_summary_by_digest <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span>
<span class="token comment">--6ã€å“ªç±»SQLè¿”å›ç»“æœé›†æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> DIGEST_TEXT<span class="token punctuation">,</span>SUM_ROWS_SENT <span class="token keyword">FROM</span> events_statements_summary_by_digest <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> COUNT_STAR <span class="token keyword">DESC</span>
<span class="token comment">--7ã€å“ªä¸ªè¡¨ç‰©ç†IOæœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> file_name<span class="token punctuation">,</span>event_name<span class="token punctuation">,</span>SUM_NUMBER_OF_BYTES_READ<span class="token punctuation">,</span>SUM_NUMBER_OF_BYTES_WRITE <span class="token keyword">FROM</span> file_summary_by_instance <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SUM_NUMBER_OF_BYTES_READ <span class="token operator">+</span> SUM_NUMBER_OF_BYTES_WRITE <span class="token keyword">DESC</span>
<span class="token comment">--8ã€å“ªä¸ªè¡¨é€»è¾‘IOæœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> object_name<span class="token punctuation">,</span>COUNT_READ<span class="token punctuation">,</span>COUNT_WRITE<span class="token punctuation">,</span>COUNT_FETCH<span class="token punctuation">,</span>SUM_TIMER_WAIT <span class="token keyword">FROM</span> table_io_waits_summary_by_table <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sum_timer_wait <span class="token keyword">DESC</span>
<span class="token comment">--9ã€å“ªä¸ªç´¢å¼•è®¿é—®æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> OBJECT_NAME<span class="token punctuation">,</span>INDEX_NAME<span class="token punctuation">,</span>COUNT_FETCH<span class="token punctuation">,</span>COUNT_INSERT<span class="token punctuation">,</span>COUNT_UPDATE<span class="token punctuation">,</span>COUNT_DELETE <span class="token keyword">FROM</span> table_io_waits_summary_by_index_usage <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SUM_TIMER_WAIT <span class="token keyword">DESC</span>
<span class="token comment">--10ã€å“ªä¸ªç´¢å¼•ä»æ¥æ²¡æœ‰ç”¨è¿‡ï¼Ÿ</span>
<span class="token keyword">SELECT</span> OBJECT_SCHEMA<span class="token punctuation">,</span>OBJECT_NAME<span class="token punctuation">,</span>INDEX_NAME <span class="token keyword">FROM</span> table_io_waits_summary_by_index_usage <span class="token keyword">WHERE</span> INDEX_NAME <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token operator">AND</span> COUNT_STAR <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">AND</span> OBJECT_SCHEMA <span class="token operator">&lt;&gt;</span> <span class="token string">'mysql'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> OBJECT_SCHEMA<span class="token punctuation">,</span>OBJECT_NAME<span class="token punctuation">;</span>
<span class="token comment">--11ã€å“ªä¸ªç­‰å¾…äº‹ä»¶æ¶ˆè€—æ—¶é—´æœ€å¤šï¼Ÿ</span>
<span class="token keyword">SELECT</span> EVENT_NAME<span class="token punctuation">,</span>COUNT_STAR<span class="token punctuation">,</span>SUM_TIMER_WAIT<span class="token punctuation">,</span>AVG_TIMER_WAIT <span class="token keyword">FROM</span> events_waits_summary_global_by_event_name <span class="token keyword">WHERE</span> event_name <span class="token operator">!=</span> <span class="token string">'idle'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SUM_TIMER_WAIT <span class="token keyword">DESC</span>
<span class="token comment">--12-1ã€å‰–ææŸæ¡SQLçš„æ‰§è¡Œæƒ…å†µï¼ŒåŒ…æ‹¬statementä¿¡æ¯ï¼Œstegeä¿¡æ¯ï¼Œwaitä¿¡æ¯</span>
<span class="token keyword">SELECT</span> EVENT_ID<span class="token punctuation">,</span>sql_text <span class="token keyword">FROM</span> events_statements_history <span class="token keyword">WHERE</span> sql_text <span class="token operator">LIKE</span> <span class="token string">'%count(*)%'</span><span class="token punctuation">;</span>
<span class="token comment">--12-2ã€æŸ¥çœ‹æ¯ä¸ªé˜¶æ®µçš„æ—¶é—´æ¶ˆè€—</span>
<span class="token keyword">SELECT</span> event_id<span class="token punctuation">,</span>EVENT_NAME<span class="token punctuation">,</span>SOURCE<span class="token punctuation">,</span>TIMER_END <span class="token operator">-</span> TIMER_START <span class="token keyword">FROM</span> events_stages_history_long <span class="token keyword">WHERE</span> NESTING_EVENT_ID <span class="token operator">=</span> <span class="token number">1553</span><span class="token punctuation">;</span>
<span class="token comment">--12-3ã€æŸ¥çœ‹æ¯ä¸ªé˜¶æ®µçš„é”ç­‰å¾…æƒ…å†µ</span>
<span class="token keyword">SELECT</span> event_id<span class="token punctuation">,</span>event_name<span class="token punctuation">,</span>source<span class="token punctuation">,</span>timer_wait<span class="token punctuation">,</span>object_name<span class="token punctuation">,</span>index_name<span class="token punctuation">,</span>operation<span class="token punctuation">,</span>nesting_event_id <span class="token keyword">FROM</span> events_waits_history_longWHERE nesting_event_id <span class="token operator">=</span> <span class="token number">1553</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="processlist">processlist</h2> <blockquote><p>é¡µé¢åº•éƒ¨ -&gt; DOCUMENTATION -&gt; MySQL Reference Manual -&gt; SQL Statements -&gt; Database Administration Statements -&gt; SHOW Statements -&gt; SHOW PROCESSLIST Statement
<a href="https://dev.mysql.com/doc/refman/8.0/en/show-processlist.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/show-processlist.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>ä½¿ç”¨show processlistæŸ¥çœ‹è¿æ¥çš„çº¿ç¨‹ä¸ªæ•°ï¼Œæ¥è§‚å¯Ÿæ˜¯å¦æœ‰å¤§é‡çº¿ç¨‹å¤„äºä¸æ­£å¸¸çš„çŠ¶æ€æˆ–è€…å…¶ä»–ä¸æ­£å¸¸çš„ç‰¹å¾</p> <h4 id="å±æ€§è¯´æ˜">å±æ€§è¯´æ˜</h4> <ul><li>idè¡¨ç¤ºsession id</li> <li>userè¡¨ç¤ºæ“ä½œçš„ç”¨æˆ·</li> <li>hostè¡¨ç¤ºæ“ä½œçš„ä¸»æœº</li> <li>dbè¡¨ç¤ºæ“ä½œçš„æ•°æ®åº“</li> <li>commandè¡¨ç¤ºå½“å‰çŠ¶æ€
<ul><li>sleepï¼šçº¿ç¨‹æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€æ–°çš„è¯·æ±‚</li> <li>queryï¼šçº¿ç¨‹æ­£åœ¨æ‰§è¡ŒæŸ¥è¯¢æˆ–æ­£åœ¨å°†ç»“æœå‘é€ç»™å®¢æˆ·ç«¯</li> <li>lockedï¼šåœ¨mysqlçš„æœåŠ¡å±‚ï¼Œè¯¥çº¿ç¨‹æ­£åœ¨ç­‰å¾…è¡¨é”</li> <li>analyzing and statisticsï¼šçº¿ç¨‹æ­£åœ¨æ”¶é›†å­˜å‚¨å¼•æ“çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ç”ŸæˆæŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’</li> <li>Copying to tmp tableï¼šçº¿ç¨‹æ­£åœ¨æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶ä¸”å°†å…¶ç»“æœé›†éƒ½å¤åˆ¶åˆ°ä¸€ä¸ªä¸´æ—¶è¡¨ä¸­</li> <li>sorting resultï¼šçº¿ç¨‹æ­£åœ¨å¯¹ç»“æœé›†è¿›è¡Œæ’åº</li> <li>sending dataï¼šçº¿ç¨‹å¯èƒ½åœ¨å¤šä¸ªçŠ¶æ€ä¹‹é—´ä¼ é€æ•°æ®ï¼Œæˆ–è€…åœ¨ç”Ÿæˆç»“æœé›†æˆ–è€…å‘å®¢æˆ·ç«¯è¿”å›æ•°æ®</li></ul></li> <li>infoè¡¨ç¤ºè¯¦ç»†çš„sqlè¯­å¥</li> <li>timeè¡¨ç¤ºç›¸åº”å‘½ä»¤æ‰§è¡Œæ—¶é—´</li> <li>stateè¡¨ç¤ºå‘½ä»¤æ‰§è¡ŒçŠ¶æ€</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/fobgochod/fobgochod/edit/master/zh/database/mysql/lesson/mysql1.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">æ€»å­—æ•°:</span> <span class="words">7,072</span> <span class="prefix">å­—ã€€</span> <span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021-11-22 23:56:32</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.371415f4.js" defer></script><script src="/assets/js/3.bc568359.js" defer></script><script src="/assets/js/4.2d0cd4c0.js" defer></script><script src="/assets/js/70.00ed678e.js" defer></script>
  </body>
</html>
