(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{584:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"备份恢复"}},[s._v("备份恢复")]),s._v(" "),t("h2",{attrs:{id:"文档"}},[s._v("文档")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.mongodb.com/database-tools",target:"_blank",rel:"noopener noreferrer"}},[s._v("The MongoDB Database Tools Documentation"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"sample-data"}},[s._v("Sample Data")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.mongodb.com/guides/server/import/#procedure",target:"_blank",rel:"noopener noreferrer"}},[s._v("Import Data into MongoDB¶"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("inventory.crud.json")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("use "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n\ndb.dept.drop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.dept.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(", dname: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ACCOUNTING'")]),s._v(", loc: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NEW YORK'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.dept.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(", dname: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'RESEARCH'")]),s._v(", loc: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DALLAS'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.dept.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(", dname: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SALES'")]),s._v(", loc: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CHICAGO'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.dept.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v(", dname: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OPERATIONS'")]),s._v(", loc: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BOSTON'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndb.emp.drop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7369")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SMITH'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CLERK'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'7902'")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1980-12-17'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("800.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7499")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ALLEN'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SALESMAN'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7698")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-02-20'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1600.00")]),s._v(", comm: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300.00")]),s._v(", deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7521")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'WARD'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SALESMAN'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7698")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-02-22'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1250.00")]),s._v(", comm: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500.00")]),s._v(", deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7566")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'JONES'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MANAGER'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7839")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-04-02'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2975.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7654")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MARTIN'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SALESMAN'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7698")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-09-28'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1250.00")]),s._v(", comm: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1400.00")]),s._v(", deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7698")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BLAKE'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MANAGER'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7839")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-05-01'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2850.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7782")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CLARK'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MANAGER'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7839")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-06-09'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2450.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7788")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SCOTT'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ANALYST'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7566")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1987-04-19'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7839")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'KING'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PRESIDENT'")]),s._v(", mgr: null, hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-11-17'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7844")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TURNER'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SALESMAN'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7698")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-09-08'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500.00")]),s._v(", comm: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7876")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ADAMS'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CLERK'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7788")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1987-05-23'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1100.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7900")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'JAMES'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CLERK'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7698")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-12-03'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("950.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7902")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'FORD'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ANALYST'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7566")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1981-12-03'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndb.emp.insert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" empno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7934")]),s._v(", ename: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MILLER'")]),s._v(", job: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CLERK'")]),s._v(", mgr: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7782")]),s._v(", hiredate: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1982-01-23'")]),s._v(", sal: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1300.00")]),s._v(", comm: null, deptno: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h2",{attrs:{id:"备份"}},[s._v("备份")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份数据库test到/DAP/DB/MongoDB/")]),s._v("\nmongodump "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--db")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("test "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--out")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/DAP/DB/MongoDB/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份数据库test下的表emp到/DAP/DB/MongoDB/")]),s._v("\nmongodump "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--db")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("test "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--collection")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("emp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--out")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/DAP/DB/MongoDB/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"恢复"}},[s._v("恢复")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复数据到原库")]),s._v("\nmongorestore /DAP/DB/MongoDB/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复数据库test中的表emp")]),s._v("\nmongorestore "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nsInclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("test.emp /DAP/DB/MongoDB/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过json文件恢复数据到指定数据库、指定表")]),s._v("\nmongorestore "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--db")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("testStore "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--collection")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("empStore /DAP/DB/MongoDB/test/emp.bson\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"faq"}},[s._v("FAQ")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 阿里云MongoDB快照恢复数据")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 删除dbpath目录下的mongod.lock")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /var/lib/mongo/mongod.lock\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 将data目录下所有文件授权给当前用户 root忽略， ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" user:user\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 清除log下目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /var/log/mongodb/*\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. 修复数据")]),s._v("\n./mongod "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--repair")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),s._v(" /var/lib/mongo/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5. 按配置启动服务端")]),s._v("\n./mongod "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--config")]),s._v(" mongodb.config\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(". 启动客户端\nmongo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);