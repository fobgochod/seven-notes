(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{528:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"全手写急速理解netty模型及io模型应用实战"}},[s._v("全手写急速理解Netty模型及IO模型应用实战")]),s._v(" "),n("h2",{attrs:{id:"网络"}},[s._v("网络")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 网卡信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-eth0\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 路由表")]),s._v("\nroute "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ping 使用的是ICMP协议")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DNS 域名到IP地址的映射 全网")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" www.baidu.com\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# IP地址和网卡硬件地址(MAC)的映射")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# arp 是局域网内")]),s._v("\narp "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结论：TCP/IP协议基于下一跳机制，IP是端点间MAC地址是节点间的")]),s._v("\n\nroute "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-host")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".8.8 gw "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".8.1\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LVS(4层) 流量 数据包")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginx(7层) 握手 5万")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h3",{attrs:{id:"lvs高可用"}},[s._v("LVS高可用")]),s._v(" "),n("p",[s._v("问题：\nLVS会挂，业务下线，单点故障\nRS(real server)会挂，一部分用户请求异常，LVS还存有这个RS的负载记录\n解决问题：\n单点故障的解决方式：它是一个，一个有问题，那么我们就用一堆：一变多~！\n2个思路：多点：a)主备 b)主主\n结论：先讨论主备\n方向性：\n效率性：")]),s._v(" "),n("p",[s._v("主备，主（单点->主备）从")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node01~node04")]),s._v("\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" keepalived ipvsadm "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/keepalived/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);